<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BET33</title>
<style>
:root{
  --radius:16px;
  --glass:rgba(255,255,255,.65);
  --line:rgba(0,0,0,.08);
  --text:#111;
  --maxw:1200px;
}
*{box-sizing:border-box}
body{
  margin:0; color:var(--text);
  background: linear-gradient(135deg,#ffffff 0%,#f7f9ff 45%,#f3faff 100%);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans KR, Arial, sans-serif;
  min-height:100vh;
  transition: background .5s ease;
}
body.storm{ background:#06080f; color:#e8ecf3; }
header{
  position:sticky; top:0; z-index:10;
  backdrop-filter: blur(12px);
  background:var(--glass); border-bottom:1px solid var(--line);
}
.wrap{max-width:var(--maxw); margin:0 auto; padding:14px 20px; display:flex; align-items:center; gap:16px;}
.brand{font-size:28px; font-weight:900; letter-spacing:.6px}
main{max-width:var(--maxw); margin:24px auto 80px; padding:0 20px; display:grid; gap:24px; position:relative;}
/* Center "monitor" (half-size) */
.hero{ position:relative; border-radius:var(--radius); background:var(--glass); border:1px solid var(--line);
       padding:20px; box-shadow:0 8px 30px rgba(0,0,0,.1); }
.frame{ width:50%; margin:0 auto; border-radius:12px; overflow:hidden; box-shadow:0 8px 20px rgba(0,0,0,.35); }
.frame video, .frame img{ width:100%; height:auto; display:block; }
.blackout .frame{ background:#000; }
.overlayTxt{ text-align:center; margin-top:10px; font-weight:800; font-size:clamp(18px,3vw,28px); color:#333 }
.blackout .overlayTxt{ color:#ddd }
/* Cards */
.row{display:grid; grid-template-columns:repeat(3,1fr); gap:18px}
.card{ background:var(--glass); border:1px solid var(--line); border-radius:var(--radius);
       padding:18px; box-shadow:0 8px 30px rgba(0,0,0,.07); backdrop-filter: blur(10px);}
.card h3{margin:0 0 8px 0; font-size:18px}
/* Background video (only visible in storm mode) */
.bg-video{ position:fixed; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; transition:opacity .2s;
           z-index:-1; pointer-events:none; }
.bg-on .bg-video{ opacity:1; z-index:0 }
/* Switch */
.switch{ position:fixed; right:32px; top:140px; width:92px; height:188px; border-radius:20px;
         background:#eef1f7; border:2px solid rgba(0,0,0,.18);
         box-shadow:0 10px 30px rgba(0,0,0,.18), inset 0 2px 0 #fff; overflow:hidden; cursor:pointer; z-index:50; }
.switch .cell{ flex:1; display:flex; align-items:center; justify-content:center; font-weight:900; font-size:22px; color:#fff }
.switch{ display:flex; flex-direction:column }
.switch .on{ background:#e53935 }
.switch .off{ background:#7cb342; border-top:2px solid rgba(255,255,255,.35) }
.switch-label{ position:fixed; right:34px; top:112px; font-size:12px; opacity:.6 }
@media (max-width:900px){ .frame{ width:92%; } .row{ grid-template-columns:1fr } }
</style>
</head>
<body>
  <!-- Background video (antiphase target) -->
  <video id="bgVid" class="bg-video" muted playsinline loop poster="assets/bg-poster.jpg">
    <source src="assets/bg.mp4" type="video/mp4" />
  </video>
  <audio id="thunder" src="assets/thunder.wav" preload="auto"></audio>

  <header>
    <div class="wrap">
      <div class="brand">BET33</div>
      <div style="margin-left:auto; opacity:.7;">히어로 / 이벤트 / 문의</div>
    </div>
  </header>

  <div class="switch-label">배경 전환</div>
  <div id="stormSwitch" class="switch" aria-label="storm switch">
    <div class="cell on">ON</div>
    <div class="cell off">OFF</div>
  </div>

  <main>
    <section id="hero" class="hero">
      <div class="frame">
        <video id="heroVid" autoplay muted loop playsinline poster="assets/center-poster.jpg">
          <source src="assets/center.mp4" type="video/mp4" />
        </video>
      </div>
      <div class="overlayTxt">중앙 영상</div>
    </section>

    <section class="row">
      <div class="card"><h3>첫충전 보너스</h3><p>첫 입금 이용자를 위한 기본 혜택.</p></div>
      <div class="card"><h3>재입금 리워드</h3><p>지속 이용자를 위한 리텐션 설계.</p></div>
      <div class="card"><h3>페이백/최대출금</h3><p>리스크·한도 규정은 사전 고지 기준으로 안내.</p></div>
    </section>
  </main>

  <script>
    const body = document.body;
    const hero = document.getElementById('hero');
    const heroVid = document.getElementById('heroVid');
    const bgVid = document.getElementById('bgVid');
    const thunder = document.getElementById('thunder');
    const stormSwitch = document.getElementById('stormSwitch');

    let storm = false; // false=center, true=background
    function setState(toBackground){
      if(toBackground){
        hero.classList.add('blackout');
        if(heroVid) heroVid.pause();
        body.classList.add('bg-on','storm'); // show background video and dark theme
        if(bgVid){ try{ bgVid.currentTime = 0; }catch(e){} bgVid.play(); }
      }else{
        hero.classList.remove('blackout');
        if(heroVid) heroVid.play();
        body.classList.remove('bg-on','storm'); // hide background, return to clear
        if(bgVid) bgVid.pause();
      }
    }
    function flicker(finalToBackground){
      const seq = [0,1,0,1,0,1,0]; // 0=center,1=background
      const total = 1500, step = Math.floor(total/seq.length);
      let i=0;
      const tm = setInterval(()=>{
        setState(!!seq[i]);
        if(++i>=seq.length){ clearInterval(tm); setState(finalToBackground); storm = finalToBackground; }
      }, step);
    }
    stormSwitch.addEventListener('click', ()=>{
      try{ thunder.currentTime=0; thunder.play(); }catch(e){}
      const goBg = !storm;
      flicker(goBg);
    });

    // start in center mode
    setState(false);
  </script>
</body>
</html>
